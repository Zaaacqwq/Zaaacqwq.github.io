import{v as k,w as N}from"./runtime-dom.esm-bundler.49c0fa32.js";import{F as S}from"./fuse.esm.88e2763d.js";import{_ as x}from"./_plugin-vue_export-helper.c27b6911.js";import{d as F,c as l,g as z,a as r,F as h,f as C,h as M,r as c,w as B,b as i,t as b,i as D}from"./runtime-core.esm-bundler.1b61bd4d.js";const V=F({__name:"searchCore",props:["lang"],async setup(d,{expose:a}){a();let s,e;function p(){let w=v.search(u.value);n.value=[];for(let o=0;o<w.length;o+=10)n.value.push(w.slice(o,o+10));_.value=1,f.value=n.value.length}const{lang:m}=d,t={isCaseSensitive:!1,includeScore:!0,includeMatches:!0,minMatchCharLength:1,shouldSort:!0,findAllMatches:!1,threshold:.6,useExtendedSearch:!1,ignoreFieldNorm:!1,fieldNormWeight:1,keys:["title","content"]},u=c(""),n=c([]),_=c(1),f=c(0),g=([s,e]=B(()=>zac.getJson(`/scripts/searchData-${m}.json`)),s=await s,e(),s),v=new S(g,t),y={search:p,fuseOptions:t,keywords:u,result:n,pageNumber:_,pageSize:f,list:g,fuse:v};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}}),j={class:"search-results"},A=["href"],E={class:"search-pagination"},K=["onClick"];function L(d,a,s,e,p,m){return i(),l(h,null,[z(r("input",{class:"search-input",type:"text",placeholder:"","onUpdate:modelValue":a[0]||(a[0]=t=>e.keywords=t),onKeydown:N(e.search,["enter"])},null,544),[[k,e.keywords]]),r("div",j,[e.result.length?(i(),l(h,{key:0},C(10,t=>r("a",{class:"search-result",href:e.result[e.pageNumber-1][t-1]?.item.url},b(e.result[e.pageNumber-1][t-1]?.item.title),9,A)),64)):M("",!0)]),r("div",E,[(i(!0),l(h,null,C(e.pageSize,t=>(i(),l("span",{class:D({"search-pagenumber":!0,active:e.pageNumber==t}),onClick:u=>e.pageNumber=t},[r("span",null,b(t),1)],10,K))),256))])],64)}const U=x(V,[["render",L]]);export{U as default};
